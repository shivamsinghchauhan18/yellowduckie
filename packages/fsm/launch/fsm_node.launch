<?xml version="1.0" encoding="utf-8"?>
<launch>
    <arg name="veh" default="$(env VEHICLE_NAME)" doc="Name of the vehicle"/>
    <arg name="param_file_name" default="default" doc="Specify a param file"/>
    
    <group ns="$(arg veh)">
        <node name="fsm_node" pkg="fsm" type="fsm_node.py" output="screen">
            <param name="veh" value="$(arg veh)"/>
            <rosparam file="$(find fsm)/config/fsm_node/$(arg param_file_name).yaml" command="load"/>
            
            <!-- Remap joystick input -->
            <remap from="joy" to="/$(arg veh)/joy"/>
            <remap from="button_driver_node/event" to="/$(arg veh)/button_driver_node/event"/>
        </node>
    </group>
</launch>